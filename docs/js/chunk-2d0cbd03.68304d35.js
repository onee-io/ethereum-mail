(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cbd03"],{"4aee":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("CardMailTable",{attrs:{title:"Sent",data:t.tableData,columns:t.tableColumns}})],1)],1)],1)},s=[],o=a("1da1"),r=(a("96cf"),a("0d03"),a("a9e3"),a("d3b7"),a("25f0"),a("c030")),c=a("5304"),l=a("9c74"),i=a("e66c"),u=a("8352"),d=[{title:"FROM",dataIndex:"from",scopedSlots:{customRender:"from"},width:400},{title:"SUMMARY",dataIndex:"mail",scopedSlots:{customRender:"mail"}},{title:"DATE",dataIndex:"timestamp",class:"text-muted",width:200}],m={components:{CardMailTable:u["a"]},data:function(){return{tableData:[],tableColumns:d}},methods:{loadSentBox:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,s,o,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$store.state.provider,null!=a){e.next=5;break}return t.tableData=[],console.log("未连接钱包 无法加载发件箱"),e.abrupt("return");case 5:return n=new r["a"].Contract(l.MailService,c.abi,a.getSigner(0)),e.next=8,n.sentBox();case 8:for(s=e.sent,console.log("load sentBox",s),t.tableData=[],o=s.length-1;o>=0;o--)u=s[o],d=new Date,d.setTime(1e3*Number(u.timestamp.toString())),t.tableData.push({key:u.id.toString(),from:u.from,mail:{subject:u.subject,content:u.content},timestamp:Object(i["a"])(d,"yyyy-MM-dd HH:mm:ss")});t.$store.commit("setSentBoxRefresh",!1);case 13:case"end":return e.stop()}}),e)})))()}},created:function(){this.loadSentBox()},watch:{"$store.state.sentBoxRefresh":function(){var t=this.$store.state.sentBoxRefresh;console.log("watch sentBoxRefresh change",t),t&&this.loadSentBox()}}},b=m,f=a("2877"),h=Object(f["a"])(b,n,s,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0cbd03.68304d35.js.map