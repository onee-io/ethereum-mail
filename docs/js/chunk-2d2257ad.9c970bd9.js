(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2257ad"],{e529:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("CardMailTable",{attrs:{title:"Inbox",data:t.tableData,columns:t.tableColumns}})],1)],1)],1)},o=[],r=a("1da1"),s=(a("96cf"),a("0d03"),a("a9e3"),a("d3b7"),a("25f0"),a("c030")),i=a("5304"),l=a("9c74"),c=a("e66c"),u=a("8352"),d=[{title:"FROM",dataIndex:"from",scopedSlots:{customRender:"from"},width:400},{title:"SUMMARY",dataIndex:"mail",scopedSlots:{customRender:"mail"}},{title:"DATE",dataIndex:"timestamp",class:"text-muted",width:200}],b={components:{CardMailTable:u["a"]},data:function(){return{tableData:[],tableColumns:d}},methods:{loadInbox:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,o,r,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$store.state.provider,null!=a){e.next=5;break}return t.tableData=[],console.log("未连接钱包 无法加载收件箱"),e.abrupt("return");case 5:return n=new s["a"].Contract(l.MailService,i.abi,a.getSigner(0)),e.next=8,n.inbox();case 8:for(o=e.sent,console.log("load inbox",o),t.tableData=[],r=o.length-1;r>=0;r--)u=o[r],d=new Date,d.setTime(1e3*Number(u.timestamp.toString())),t.tableData.push({key:u.id.toString(),from:u.from,mail:{subject:u.subject,content:u.content},timestamp:Object(c["a"])(d,"yyyy-MM-dd HH:mm:ss")});t.$store.commit("setInboxRefresh",!1);case 13:case"end":return e.stop()}}),e)})))()}},created:function(){this.loadInbox()},watch:{"$store.state.inboxRefresh":function(){var t=this.$store.state.inboxRefresh;console.log("watch inboxRefresh change",t),t&&this.loadInbox()}}},m=b,f=a("2877"),h=Object(f["a"])(m,n,o,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d2257ad.9c970bd9.js.map